<!doctype html>

<html>
  <head>
    <title>用二分法揾未知數 🔎(X+Y)/2=?🔍</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="manifest" href="/manifest.json">

    <script src="/bower_components/webcomponentsjs/webcomponents-lite.js"></script>

    <!-- <link rel="import" href="/src/FindBisectingNumber-app/FindBisectingNumber-app.html"> -->

    <link rel="import" href="bower_components/paper-input/paper-input.html">
    <link rel="import" href="bower_components/paper-button/paper-button.html">
    <link rel="import" href="bower_components/iron-icon/iron-icon.html">
    <link rel="import" href="bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="bower_components/iron-iconset-svg/iron-iconset-svg.html">

    <script type="text/javascript">
    var smallNum ;
    var bigNum ;
    var min ;
    var max ;




    function init(){
      smallNum = 0;
      bigNum = 0;
      min = 0;
      max = 0;

      document.getElementById("small").value = smallNum ;
      document.getElementById("big").value = bigNum ;
      document.getElementById("minNum").innerHTML = min ;
      document.getElementById("maxNum").innerHTML = max ;

      calMean();
    }

    function update(){

      smallNum = document.getElementById("small").value ;

// console.log("smallNum is: " + smallNum);

      bigNum = document.getElementById("big").value ;

// console.log("bigNum is: " + bigNum);

      if(bigNum > smallNum){

console.log("bigNum:"+bigNum+" smallNum:"+smallNum+" min:"+min );

        if(smallNum < min){

console.log("Why not here? bigNum:"+bigNum+" smallNum:"+smallNum+" min:"+min );

          min = smallNum;
         console.log("min is: " + min);
          document.getElementById("minNum").innerHTML = min ;
        }


        if(bigNum > max){
          max = bigNum;
          document.getElementById("maxNum").innerHTML = max ;
        }





      }else {
          if(smallNum > max){
            max = smallNum;
            document.getElementById("maxNum").innerHTML = max ;
          }else if(bigNum < min){
            min = bigNum;
            document.getElementById("minNum").innerHTML = min ;
          }

          var newSmallNum = bigNum;
          var newBigNum = smallNum;

          smallNum = newSmallNum;
          bigNum = newBigNum;

          document.getElementById("small").value = smallNum ;
          document.getElementById("big").value = bigNum ;

      }

      calMean();
    }

    function calMean(){
      mean = Math.ceil( (Number(smallNum) + Number(bigNum) )/2 ) ;
      document.getElementById("meanNum").innerHTML = mean ;

      // var para = document.createElement("div");
      // var node = document.createTextNode(mean);
      // para.appendChild(node);
      // var element = document.getElementById("meanRecords");
      // element.appendChild(para);
    }

    </script>

  </head>
  <body onload="init()">

    <h1>用二分法揾未知數
      <br>🔎(X+Y)/2=?🔍</h1>

    <paper-input always-float-label id="small" label="Smaller number" type="number" onchange="update()"></paper-input>

    <paper-input always-float-label id="big" label="Bigger number" type="number" onchange="update()"></paper-input>

    <div id="maxNumIs">最大數係：
      <div id="maxNum">

      </div>
    </div>

    <div id="minNumIs">最細數係：
      <div id="minNum">

      </div>
    </div>


    <div id="meanNumIs">新計出嚟嘅平均數係：
      <div id="meanNum">
      </div>
      <paper-button raised id="setAsSmall"><iron-icon icon="arrow-downward"></iron-icon>將佢 set 為細數</paper-button>
      <paper-button raised id="setAsBig"><iron-icon icon="arrow-upward"></iron-icon>將佢 set 為大數</paper-button>
      <paper-button raised id="copy"><iron-icon icon="content-copy" onclick="ClipBoard()"></iron-icon>Copy 咗個數佢</paper-button>


<script type="text/javascript">
function ClipBoard()
{
holdtext.innerText = copytext.innerText;
Copied = holdtext.createTextRange();
Copied.execCommand("Copy");
}
</script>


    </div>
    <div id="meanRecords">平均數記錄：

    </div>

  </body>
</html>
