<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>paper-autogrow-textarea tests</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

  <script src="../../webcomponentsjs/webcomponents.js"></script>
  <script src="../../web-component-tester/browser.js"></script>

  <link href="../paper-autogrow-textarea.html" rel="import">

  <style>paper-autogrow-textarea{background-color:black;}textarea{background-color:yellow;}</style>

</head>
<body>

  <paper-autogrow-textarea id="autogrow1">
    <textarea id="textarea1"></textarea>
  </paper-autogrow-textarea>

  <paper-autogrow-textarea id="autogrow2" rows="2" maxrows="4">
    <textarea id="textarea2"></textarea>
  </paper-autogrow-textarea>

  <script>function dispatchInputEvent(t){var e=new Event("input",{bubbles:!0});t.dispatchEvent(e)}function between(t,e,n){return assert.ok(t>e&&t<n)}var a1=document.getElementById("autogrow1"),t1=document.getElementById("textarea1");suite("basic",function(){teardown(function(t){t1.value="",dispatchInputEvent(t1),a1.rows=1,a1.maxRows=0,flush(function(){t()})}),test("empty input has height",function(){assert.ok(a1.offsetHeight>0)}),test("accepts number input",function(){t1.value=1,dispatchInputEvent(t1)}),test("grows with more rows of input",function(t){t1.value="foo\nbar",dispatchInputEvent(t1);var e=a1.offsetHeight;t1.value="foo\nbar\nbaz",dispatchInputEvent(t1),flush(function(){var n=a1.offsetHeight;assert.ok(n>e),assert.deepEqual(a1.getBoundingClientRect(),t1.getBoundingClientRect()),t()})}),test("honors the rows attribute",function(t){var e=a1.offsetHeight;a1.rows=2,flush(function(){var n=a1.offsetHeight;between(n,e,3*e),t()})}),test("honors the maxRows attribute",function(t){var e=a1.offsetHeight;a1.maxRows=2,t1.value="foo\nbar\nbaz\nzot",dispatchInputEvent(t1),flush(function(){var n=a1.offsetHeight;assert.ok(n<3*e),t()})}),test("mirror text is visibility:hidden",function(){assert.equal(getComputedStyle(a1.$.mirror).visibility,"hidden")}),test("grows with a long word",function(t){var e=a1.offsetHeight;t1.value=Array(1e3).join("P"),dispatchInputEvent(t1),flush(function(){var n=a1.offsetHeight;assert.ok(n>e),assert.deepEqual(a1.getBoundingClientRect(),t1.getBoundingClientRect()),t()})})});</script>



</body></html>